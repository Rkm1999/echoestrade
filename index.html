<!DOCTYPE html>
<html>
<head>
  <title>Data Display</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@^3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      /* margin: 20px; */ /* Removed */
      padding-left: 0; /* Added */
    }
    #priceChart { max-width: 800px; max-height: 400px; margin-bottom: 20px; }
    #data-container { white-space: pre-wrap; word-wrap: break-word; background-color: #f4f4f4; padding: 10px; border: 1px solid #ccc; max-height: 200px; overflow-y: auto; }
    #controls { margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #f9f9f9; }
    #sidebar {
      width: 250px; /* Adjust width as needed */
      height: 100vh; /* Full viewport height */
      position: fixed; /* Fixed position */
      left: 0;
      top: 0;
      background-color: #f0f0f0; /* Light grey background */
      padding: 15px;
      overflow-y: auto; /* Allow scrolling if content overflows */
      border-right: 1px solid #ccc;
    }

    #main-content {
      margin-left: 270px; /* Adjust to be slightly more than sidebar width + padding */
      padding: 20px;
    }

    /* Ensure h1 and controls are within the flow of main-content, not affected by fixed sidebar directly */
    #main-content h1, #main-content #controls, #main-content #priceChart, #main-content h2 {
        margin-left: 0; /* Reset any potential inherited left margin */
    }
    #controls div { margin-bottom: 5px; }
    #controls label { margin-right: 5px; }
    #activeSMAList .sma-item { margin-right: 10px; background-color: #e0e0e0; padding: 3px 6px; border-radius: 4px; display: inline-block; margin-bottom: 5px;}
    #activeSMAList .sma-item button { margin-left: 8px; cursor: pointer; border: none; background: #ff6b6b; color: white; border-radius: 3px; padding: 2px 5px;}
    #activeSMAList .sma-item button:hover { background: #e04f4f;}
    #timeframeControls button { margin-right: 5px; padding: 5px 10px; cursor: pointer; border: 1px solid #ccc; background-color: #f0f0f0; border-radius: 4px; }
    #timeframeControls button:hover { background-color: #e0e0e0; }
    #timeframeControls button.active { background-color: #007bff; color: white; border-color: #007bff; }
    #customDateControls label { margin-right: 5px; }
    #customDateControls input[type="date"] { padding: 4px; border: 1px solid #ccc; border-radius: 4px; }
  </style>
       <link rel="stylesheet" href="style.css"> <!-- Add this line -->
</head>
<body>
<div id="sidebar">
  <div style="margin-bottom: 15px;"><a href="start.html" style="font-size: 1.1em; text-decoration: none; color: #007bff;">&laquo; Home</a></div>
  <h2>Items</h2>
  <input type="text" id="sidebarSearch" placeholder="Search items...">
  <div id="item-selector-container">
    <!-- Dropdowns will be dynamically inserted here by JavaScript -->
    <p>Loading items...</p>
  </div>
</div>
<div id="main-content">
  <h1 id="chartDisplayTitle">PLEX Price Over Time</h1>
  <button id="currentItemFavoriteToggle" style="margin-left: 10px; padding: 5px 10px; font-size: 0.9em; cursor: pointer;">Add to Favorites</button>
  <div id="controls">
    <h2>Indicators</h2>
    <div>
      <label for="newSMAPeriod">New SMA Period (days):</label>
      <input type="number" id="newSMAPeriod" value="14" min="2" style="width: 60px;">
      <button id="addSMAButton" type="button">Add SMA</button>
    </div>
    <div id="activeSMAList" style="margin-top: 10px;">
      <!-- Active SMAs will be listed here by JavaScript -->
    </div>
    <!-- Placeholder for future Momentum controls -->
    <div id="timeframeControls" style="margin-top: 10px;">
      <label>Timeframe:</label>
      <button id="btn30D" data-timeframe="30D">30D</button>
      <button id="btn3M" data-timeframe="3M">3M</button>
      <button id="btn6M" data-timeframe="6M">6M</button>
      <button id="btn1Y" data-timeframe="1Y">1Y</button>
      <button id="btnAll" data-timeframe="All" class="active">All Time</button>
      <button id="btnCustomTimeframe" data-timeframe="Custom">Custom</button>
      <div id="customDateControls" style="display: none; margin-top: 5px;">
        <label for="customStartDate">Start:</label>
        <input type="date" id="customStartDate" style="width: 130px;">
        <label for="customEndDate" style="margin-left: 5px;">End:</label>
        <input type="date" id="customEndDate" style="width: 130px;">
        <button id="applyCustomTimeframe" style="margin-left: 5px;">Apply</button>
      </div>
    </div>
  </div>
  <canvas id="priceChart"></canvas>
</div> <!-- This is the new closing div for main-content -->
  <!-- Removed inline script -->
<script src="scripts.js" defer></script>
</body>
</html>
