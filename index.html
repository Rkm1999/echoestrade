<!DOCTYPE html>
<html>
<head>
  <title>Data Display</title>
</head>
<body>
  <pre id="data-container">Loading data...</pre>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const dataContainer = document.getElementById('data-container');
      const localFileUrl = './plex_data.csv'; // Path to the local CSV file

      fetch(localFileUrl)
      .then(response => {
        if (!response.ok) {
          // Check for common issues like file not found (404)
          if (response.status === 404) {
            throw new Error('Error: plex_data.csv not found. Status: ' + response.status);
          }
          throw new Error('Network response was not ok: ' + response.statusText + ' (Status: ' + response.status + ')');
        }
        return response.text(); // Get the response body as text
      })
      .then(csvData => {
        dataContainer.textContent = csvData; // Display CSV data in the <pre> tag
      })
      .catch(error => {
        dataContainer.textContent = 'Failed to load data: ' + error;
        console.error('There was a problem with the fetch operation:', error);
      });
    });
  </script>
</body>
</html>
